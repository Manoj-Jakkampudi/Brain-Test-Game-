<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory Match Game</title>
  <style>
    /* General Styles */
    body {
      font-family: 'Poppins', Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      color: #fff;
      overflow: hidden;
    }

    .centered {
      text-align: center;
    }

    .hidden {
      display: none;
    }

    /* Landing Page */
    #landing-page {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
    }

    #landing-page h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    }

    .category-buttons button {
      font-size: 1rem;
      padding: 12px 25px;
      margin: 10px;
      border: none;
      background: linear-gradient(135deg, #ff7e5f, #feb47b);
      color: white;
      cursor: pointer;
      border-radius: 10px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .category-buttons button:hover {
      transform: scale(1.1);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }

    /* Game Container */
    #game-container header {
      display: flex;
      justify-content: space-between;
      padding: 15px;
      background: linear-gradient(135deg, #ff7e5f, #feb47b);
      color: white;
      font-size: 1.2rem;
      border-radius: 10px;
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
      margin-bottom: 20px;
    }

    #card-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin: 20px auto;
      max-width: 600px;
    }

    .card {
      width: 100%;
      aspect-ratio: 1 / 1; /* Ensures square shape */
      background: linear-gradient(135deg, #f6d365, #fda085);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      cursor: pointer;
      border-radius: 10px;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease, background 0.3s ease;
    }

    .card:not(.flipped):not(.matched)::after {
      content: "?";
      font-size: 2rem;
      color: #fff;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    }

    .card.flipped {
      background: linear-gradient(135deg, #a8edea, #fed6e3);
      transform: rotateY(180deg);
    }

    .card.matched {
      background: linear-gradient(135deg, #84fab0, #8fd3f4);
      cursor: default;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    /* Game Over Screen */
    #game-over {
      text-align: center;
    }

    #game-over h2 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    }

    #game-over button {
      font-size: 1rem;
      padding: 12px 25px;
      border: none;
      background: linear-gradient(135deg, #ff7e5f, #feb47b);
      color: white;
      cursor: pointer;
      border-radius: 10px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    #game-over button:hover {
      transform: scale(1.1);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }

    /* Responsive Design */
    @media (max-width: 600px) {
      #card-grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .card {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Landing Page -->
  <div id="landing-page" class="centered">
    <h1>Memory Match Game</h1>
    <div class="category-buttons">
      <button onclick="startGame('fruits')">Fruits</button>
      <button onclick="startGame('emojis')">Emojis</button>
      <button onclick="startGame('animals')">Animals</button>
      <button onclick="startGame('planets')">Planets</button>
      <button onclick="startGame('flags')">Flags</button>
    </div>
  </div>

  <!-- Game Container -->
  <div id="game-container" class="hidden">
    <header>
      <div id="scoreboard">Score: <span id="score">0</span></div>
      <div id="timer">Time Left: <span id="time-left">30</span>s</div>
    </header>
    <div id="card-grid"></div>
    <div id="game-over" class="hidden">
      <h2 id="result-message"></h2>
      <button onclick="resetGame()">Play Again</button>
    </div>
  </div>

  <audio id="flip-sound" src="https://www.soundjay.com/button/sounds/beep-07.mp3"></audio>
  <audio id="match-sound" src="https://www.soundjay.com/misc/sounds/magic-chime-01.mp3"></audio>

  <script>
    // Categories Data
    const categories = {
      fruits: ['ðŸŽ', 'ðŸŒ', 'ðŸ‡', 'ðŸ“', 'ðŸ’', 'ðŸŠ', 'ðŸ', 'ðŸ‰'],
      emojis: ['ðŸ˜Š', 'ðŸ˜‚', 'ðŸ˜', 'ðŸ˜Ž', 'ðŸ¤©', 'ðŸ¥³', 'ðŸ˜œ', 'ðŸ¤”'],
      animals: ['ðŸ¶', 'ðŸ±', 'ðŸ¦', 'ðŸ¯', 'ðŸ»', 'ðŸ¼', 'ðŸ¨', 'ðŸ·'],
      planets: ['ðŸª', 'ðŸŒ', 'ðŸŒ•', 'ðŸŒž', 'ðŸŒŸ', 'â˜„ï¸', 'ðŸŒŒ', 'ðŸ›°ï¸'],
      flags: ['ðŸ‡ºðŸ‡¸', 'ðŸ‡¯ðŸ‡µ', 'ðŸ‡©ðŸ‡ª', 'ðŸ‡«ðŸ‡·', 'ðŸ‡®ðŸ‡¹', 'ðŸ‡¨ðŸ‡³', 'ðŸ‡¬ðŸ‡§', 'ðŸ‡¦ðŸ‡º']
    };

    let cards = [];
    let flippedCards = [];
    let score = 0;
    let timer;
    let timeLeft = 30;

    // Initialize Game
    function startGame(category) {
      document.getElementById('landing-page').classList.add('hidden');
      document.getElementById('game-container').classList.remove('hidden');

      const selectedCategory = categories[category];
      cards = [...selectedCategory, ...selectedCategory].sort(() => Math.random() - 0.5);

      const cardGrid = document.getElementById('card-grid');
      cardGrid.innerHTML = '';
      cards.forEach((item, index) => {
        const card = document.createElement('div');
        card.classList.add('card');
        card.dataset.index = index;
        card.dataset.item = item;
        card.textContent = item; // Show the card's image initially
        card.addEventListener('click', handleCardClick);
        cardGrid.appendChild(card);
      });

      resetGameVariables();
      setTimeout(hideCards, 1000); // Hide cards after 2 seconds
      startTimer();
    }

    // Reset Game Variables
    function resetGameVariables() {
      flippedCards = [];
      score = 0;
      timeLeft = 30;
      document.getElementById('score').textContent = score;
      document.getElementById('time-left').textContent = timeLeft; // Reset timer display
      document.getElementById('game-over').classList.add('hidden');
    }

    // Hide Cards After Preview
    function hideCards() {
      const allCards = document.querySelectorAll('.card');
      allCards.forEach(card => {
        card.textContent = ''; // Hide the image and show the "?" symbol
      });
    }

    // Start Timer
    function startTimer() {
      timer = setInterval(() => {
        timeLeft--;
        document.getElementById('time-left').textContent = timeLeft; // Update timer display
        if (timeLeft === 0) {
          clearInterval(timer);
          endGame(false); // End game if time runs out
        }
      }, 1000);
    }

    // Handle Card Click
    function handleCardClick(event) {
      const card = event.target;
      if (flippedCards.length < 2 && !card.classList.contains('flipped')) {
        playSound('flip-sound');
        card.classList.add('flipped');
        card.textContent = card.dataset.item;
        flippedCards.push(card);

        if (flippedCards.length === 2) {
          checkForMatch();
        }
      }
    }

    // Check for Match
    function checkForMatch() {
      const [card1, card2] = flippedCards;
      if (card1.dataset.item === card2.dataset.item) {
        playSound('match-sound');
        card1.classList.add('matched');
        card2.classList.add('matched');
        flippedCards = [];
        score += 10;
        document.getElementById('score').textContent = score;
        if (document.querySelectorAll('.matched').length === cards.length) {
          clearInterval(timer); // Stop timer if all matches are found
          endGame(true);
        }
      } else {
        setTimeout(() => {
          card1.classList.remove('flipped');
          card2.classList.remove('flipped');
          card1.textContent = '';
          card2.textContent = '';
          flippedCards = [];
        }, 1000);
      }
    }

    // End Game
    function endGame(won) {
      const resultMessage = won ? `You Win! Score: ${score}` : 'Game Over!';
      document.getElementById('result-message').textContent = resultMessage;
      document.getElementById('game-over').classList.remove('hidden');
    }

    // Reset Game
    function resetGame() {
      clearInterval(timer);
      document.getElementById('game-container').classList.add('hidden');
      document.getElementById('landing-page').classList.remove('hidden');
    }

    // Play Sound
    function playSound(soundId) {
      const sound = document.getElementById(soundId);
      sound.currentTime = 0; // Rewind to start
      sound.play();
    }
  </script>
</body>
</html>